{"version":3,"sources":["webpack:///src/app/pages/code/code.module.ts","webpack:///src/app/pages/code/code-routing.module.ts","webpack:///src/app/pages/code/code.page.html","webpack:///src/app/pages/code/code.page.scss","webpack:///src/app/pages/code/code.page.ts"],"names":["CodePageModule","imports","declarations","routes","path","component","CodePageRoutingModule","forChild","exports","CodePage","router","userService","tel","setTimeout","telInput","setFocus","register","subscribe","res","user","username","id","console","log","localStorage","setItem","JSON","stringify","navigateByUrl","error","code","loginPhone","login","selector","template"],"mappings":"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","file":"pages-code-code-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CodePageRoutingModule } from './code-routing.module';\n\nimport { CodePage } from './code.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CodePageRoutingModule\n  ],\n  declarations: [CodePage]\n})\nexport class CodePageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CodePage } from './code.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CodePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CodePageRoutingModule {}\n","export default \"<ion-content color=\\\"primary\\\">\\n  <div class=\\\"header\\\">\\n    <div class=\\\"left\\\" routerLink=\\\"/\\\" routerDirection=\\\"back\\\">\\n      <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      <p>Regresar</p>\\n    </div>\\n    <div class=\\\"right\\\">\\n      <!-- <p>Regresar</p>\\n      <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon> -->\\n    </div>\\n  </div>\\n  <div class=\\\"code-wrapper ion-padding\\\">\\n    <h2>Ingresa tu número</h2>\\n    <input [(ngModel)]=\\\"tel\\\" type=\\\"tel\\\" #telInput placeholder=\\\"5511223344\\\">\\n    <button class=\\\"red shadow sendbottom\\\" (click)=\\\"registerPhone()\\\">\\n      Enviar código\\n    </button>\\n  </div>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NvZGUvY29kZS5wYWdlLnNjc3MifQ== */\";","import { Component, Input, ViewChild, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { NavController } from \"@ionic/angular\";\nimport { UsersService } from \"src/app/services/users.service\";\n\n@Component({\n  selector: \"app-code\",\n  templateUrl: \"./code.page.html\",\n  styleUrls: [\"./code.page.scss\"],\n})\nexport class CodePage implements OnInit {\n  @ViewChild(\"telInput\") telInput;\n\n  tel = \"\";\n  constructor(private router: Router, private userService: UsersService) {}\n  ngOnInit() {}\n\n  ionViewLoaded() {\n    setTimeout(() => {\n      this.telInput.setFocus();\n    }, 150);\n  }\n\n  registerPhone() {\n    this.userService.register(\"+52\" + this.tel).subscribe(\n      (res: any) => {\n        let user = {\n          username: res.user.username,\n          id: res.user.id,\n        };\n        console.log(res);\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        this.router.navigateByUrl(\"/verificate\");\n      },\n      (error) => {\n        console.log(error);\n        if (error.error.error.code == \"UsernameExistsException\") {\n          this.loginPhone();\n        }\n      }\n    );\n    // this.router.navigateByUrl(\"/verificate\");\n  }\n\n  loginPhone() {\n    console.log(\"trying login\");\n    this.userService.login(\"+52\" + this.tel).subscribe(\n      (res) => {\n        console.log(res);\n      },\n      (error) => {\n        console.log(error);\n        if (error.error.error.code == \"UserNotConfirmedException\") {\n          this.router.navigateByUrl(\"/verificate\");\n        }\n      }\n    );\n  }\n}\n"]}